
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our Love Story üíï</title>
<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:linear-gradient(to right,#ff758c,#ff7eb3);
  color:white;
  text-align:center;
}

h1{margin-top:20px;}

.countdown{margin:10px;font-size:16px;}

.slideshow{
  position:relative;
  width:250px;
  height:350px;
  margin:20px auto;
}
.slideshow img{
  position:absolute;
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:20px;
  opacity:0;
  transition:opacity 1s;
}
.slideshow img.active{opacity:1;}

button{
  padding:12px 20px;
  font-size:16px;
  margin:8px;
  border:none;
  border-radius:10px;
  cursor:pointer;
}
#yesBtn{background:#ff4d6d;color:white;}
#noBtn{background:white;color:black;}
#muteBtn{background:rgba(0,0,0,0.4);color:white;}

#loveOverlay{
  position:fixed;
  inset:0;
  background:#ff4d6d;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:6vw;
  font-weight:bold;
  z-index:10;
  opacity:0;
  transition:opacity 1s;
  pointer-events:none;
}

canvas{
  background:white;
  border-radius:15px;
  width:min(95vw,900px);
  aspect-ratio:3/1;
  display:block;
  margin:20px auto;
}

.controls{
  margin-bottom:20px;
}
.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.6);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:20;
}
.card{
  background:white;
  color:black;
  padding:20px;
  border-radius:15px;
  width:300px;
}
</style>
</head>
<body>

<div id="loveOverlay">I LOVE YOU ‚ù§Ô∏è</div>

<h1>Will You Be My Valentine? üíò</h1>

<div class="countdown">
‚ù§Ô∏è Feb 25: <span id="valentineCountdown"></span><br>
üíç Feb 25 2027: <span id="anniversaryCountdown"></span>
</div>

<div class="slideshow">
  <img src="456C3DFA-6694-47CD-9340-C41EDA179452.jpeg" class="active">
  <img src="9779781B-6837-46AD-8A78-09F7AD151B48.jpeg">
  <img src="EE0C9E1C-9B92-4CEC-91BF-210B3D5DB6D5.jpeg">
</div>

<button id="yesBtn" onclick="yesClicked()">Yes üíï</button>
<button id="noBtn" onclick="noClicked()">No üôÑ</button>
<button id="muteBtn" onclick="toggleMusic()">üîä Music</button>

<audio id="music" loop>
  <source src="song.mp3" type="audio/mpeg">
</audio>

<h2>‚ù§Ô∏è Heart Run ‚ù§Ô∏è</h2>
<canvas id="game" width="900" height="300"></canvas>

<div class="controls">
<button onclick="jump()">‚¨ÜÔ∏è Jump</button>
<button onpointerdown="forward=true" onpointerup="forward=false">‚û°Ô∏è Forward</button>
</div>

<div class="overlay" id="gameOver">
<div class="card">
<h2>Game Over üíî</h2>
<p>Score: <span id="finalScore"></span></p>
<p>High Score: <span id="highScore"></span></p>
<button onclick="restart()">Replay ‚ù§Ô∏è</button>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
// COUNTDOWN
function updateCountdown(){
  const now=new Date().getTime();
  const year=new Date().getFullYear();
  const feb25=new Date("February 25, "+year).getTime();
  const feb252027=new Date("February 25, 2027").getTime();

  document.getElementById("valentineCountdown").innerText=
    Math.floor((feb25-now)/(1000*60*60*24))+" days";

  document.getElementById("anniversaryCountdown").innerText=
    Math.floor((feb252027-now)/(1000*60*60*24))+" days";
}
setInterval(updateCountdown,1000);

// SLIDESHOW
let slides=document.querySelectorAll(".slideshow img");
let slideIndex=0;
setInterval(()=>{
  slides[slideIndex].classList.remove("active");
  slideIndex=(slideIndex+1)%slides.length;
  slides[slideIndex].classList.add("active");
},3000);

// MUSIC
const music=document.getElementById("music");
function toggleMusic(){
  if(music.paused) music.play();
  else music.pause();
}

// YES
function yesClicked(){
  music.play();
  const overlay=document.getElementById("loveOverlay");
  overlay.style.opacity=1;
  const end=Date.now()+5000;
  (function frame(){
    confetti({particleCount:6,spread:70,origin:{y:0.6}});
    if(Date.now()<end) requestAnimationFrame(frame);
  })();
  setTimeout(()=>overlay.style.opacity=0,3000);
}
function noClicked(){ alert("Nice try üò§‚ù§Ô∏è"); }

// GAME
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

let player={x:100,y:240,w:30,h:45,vy:0};
let gravity=0.7;
let obstacles=[];
let hearts=[];
let score=0;
let highScore=localStorage.getItem("highScore")||0;
let speed=4;
let forward=false;
let running=true;

function jump(){
  if(player.y>=240) player.vy=-14;
}

function spawn(){
  if(Math.random()<0.02)
    hearts.push({x:900,y:200});
  if(Math.random()<0.02)
    obstacles.push({x:900,y:255,w:18,h:18}); // SMALLER HITBOX
}

function update(){
  ctx.clearRect(0,0,900,300);

  player.vy+=gravity;
  player.y+=player.vy;
  if(player.y>240){player.y=240;player.vy=0;}

  speed+=0.001;
  if(forward) speed+=0.02;

  // pixel girl
  ctx.fillStyle="#6b3f2a"; ctx.fillRect(player.x,player.y-40,30,15);
  ctx.fillStyle="#f2c7a5"; ctx.fillRect(player.x+8,player.y-30,15,15);
  ctx.fillStyle="#ff4d6d"; ctx.fillRect(player.x+5,player.y-15,20,15);

  hearts.forEach((h,i)=>{
    h.x-=speed;
    ctx.fillText("‚ù§Ô∏è",h.x,h.y);
    if(Math.abs(h.x-player.x)<20){hearts.splice(i,1);score+=10;}
  });

  obstacles.forEach((o,i)=>{
    o.x-=speed;
    ctx.fillStyle="black";
    ctx.fillRect(o.x,o.y,o.w,o.h);
    if(o.x<player.x+20 && o.x+o.w>player.x+5 && player.y>220){
      gameOver();
    }
  });

  spawn();
  ctx.fillStyle="black";
  ctx.fillText("Score: "+score,20,20);

  if(running) requestAnimationFrame(update);
}

function gameOver(){
  running=false;
  if(score>highScore){
    highScore=score;
    localStorage.setItem("highScore",highScore);
  }
  document.getElementById("finalScore").innerText=score;
  document.getElementById("highScore").innerText=highScore;
  document.getElementById("gameOver").style.display="flex";
}

function restart(){
  score=0;
  speed=4;
  obstacles=[];
  hearts=[];
  running=true;
  document.getElementById("gameOver").style.display="none";
  update();
}

update();
</script>

</body>
</html>
